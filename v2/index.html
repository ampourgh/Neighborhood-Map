<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="styles/main.css">
        <title>Maps</title>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
        <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD5Ppf6iBwfPB6w6baG4sUSJAtIF4GMhQw&callback=initMap&libraries=&v=weekly"
        defer
        ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/js/all.min.js"></script>
    </head>
    <body>

        <div id="options-box" class="options-box">

            <span onclick="changeAppearance()" class="icon-mode-style" id='template-mode'></span>
            <br>
            
            <h1>
                <i class="fas fa-map-marker-alt"></i>
                locations
            </h1>

            <div class="filter">
                
                    <!-- <img src="img/hamburger.png" alt="show listing"
                        title="show listing"
                        class="mobile-hamburger"> -->
                    <i onclick="showChoices()" class="fas fa-bars mobile-hamburger"></i>
                <input id="filter" class="filter-input" onkeyup="contentUpdate()" type="text">
                <span><i class="fas fa-search"></i></span>
            </div>

            <div id="dropdown-content">
                <div id="myDiv"></div>
                <p id='refresh' class='refresh-container' styles='text-align: center'>
                    No filter results.
                    <br><br>
                    <span class="refresh" style="padding: 20%; text-align: center">
                        <i onClick="refreshFilter()" class="fas fa-redo-alt fa-3x"></i>
                    </span>
                </p>
            </div>
            
        </div>
        <div id="map">
            <div id='errorMessage' class='error-message'></div>
        </div>

        <div id="right-side-content-box">
            <span class="exit" onclick="rightSideExit()"><i class="fas fa-times"></i></span>
            <div id="right-side-content"></div>
        </div>
    

    </body>
    <script src="./js/init.js"></script>
    <script src="./js/main.js"></script>
    <script>
            var mousePosition;
            var offset = [0, 0];
            let div;
            var isDown = false;

            div = document.getElementById("right-side-content-box");

            div.addEventListener('mousedown', function (e) {
            isDown = true;
            offset = [
            div.offsetLeft - e.clientX,
            div.offsetTop - e.clientY
            ];
            }, true);

            document.addEventListener('mouseup', function () {
            isDown = false;
            }, true);

            document.addEventListener('mousemove', function (event) {
            event.preventDefault();
            if (isDown) {
            mousePosition = {

            x: event.clientX,
            y: event.clientY

            };
            div.style.left = (mousePosition.x + offset[0]) + 'px';
            div.style.top = (mousePosition.y + offset[1]) + 'px';
            }
            }, true);
    </script>
</html>
